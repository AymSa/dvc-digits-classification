schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/preprocess.py data/mnist/mnist_train.csv data/mnist/mnist_test.csv
    deps:
    - path: ./src/preprocess.py
      md5: 7219cc0e7b6363686aaf3f77a6f1bbcb
      size: 1460
    - path: data/mnist/mnist_test.csv
      md5: c807df8d6d804ab2647fc15c3d40f543
      size: 18289443
    - path: data/mnist/mnist_train.csv
      md5: 5b49cf1b57fb9d6102b559d59d99df7c
      size: 109575994
    outs:
    - path: data/mnist/mnist_test_processed.csv
      md5: e5ccf33aa0a87d461b8cdf1bd762ff58
      size: 18298463
    - path: data/mnist/mnist_train_processed.csv
      md5: 1d87bef794e227c6e866f509334f27b7
      size: 109630071
  train:
    cmd: python ./src/train.py ./data/mnist/mnist_train_processed.csv ./src/model.py
    deps:
    - path: ./data/mnist/mnist_train_processed.csv
      md5: 1d87bef794e227c6e866f509334f27b7
      size: 109630071
    - path: ./src/model.py
      md5: adfadb65832a13add8913454712ad308
      size: 2614
    - path: ./src/train.py
      md5: 4d1c48d6bcd9a26dc803fc184c2c4f07
      size: 489
    outs:
    - path: ./models/model.joblib
      md5: dd4244a3a10290882303dd1f34c27771
      size: 5393119
  evaluate:
    cmd: python ./src/evaluate.py ./data/mnist/mnist_test_processed.csv ./src/model.py
      ./models/model.joblib
    deps:
    - path: ./data/mnist/mnist_test_processed.csv
      md5: e5ccf33aa0a87d461b8cdf1bd762ff58
      size: 18298463
    - path: ./models/model.joblib
      md5: dd4244a3a10290882303dd1f34c27771
      size: 5393119
    - path: ./src/evaluate.py
      md5: 5dc4518d35aa44d31279b15cc7dfb062
      size: 683
    - path: ./src/metrics.py
      md5: 136ee665042ecdf986bd4b7216324c7c
      size: 1752
    - path: ./src/model.py
      md5: adfadb65832a13add8913454712ad308
      size: 2614
    outs:
    - path: ./results/confusion_matrix.png
      md5: 3e6c4b1eaeac8d808a52143dedac60e3
      size: 10175
    - path: ./results/metrics.json
      md5: 12dd4c56e19e18b91f50207e7f849a00
      size: 108
    - path: ./results/precision_recall_curve.png
      md5: ec154de1bae8ba8aa1cf087359294237
      size: 17472
    - path: ./results/roc_curve.png
      md5: 899ae1584b6595aee195788d7b4b6a55
      size: 18413
