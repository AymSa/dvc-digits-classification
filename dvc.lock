schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/preprocess_data.py data/mnist/mnist_train.csv data/mnist/mnist_test.csv
    deps:
    - path: ./src/preprocess_data.py
      md5: 8ae3ce8ff8e0aa95564221c643168cc3
      size: 786
    - path: data/mnist/mnist_test.csv
      md5: c807df8d6d804ab2647fc15c3d40f543
      size: 18289443
    - path: data/mnist/mnist_train.csv
      md5: 5b49cf1b57fb9d6102b559d59d99df7c
      size: 109575994
    outs:
    - path: data/mnist/mnist_test_processed.csv
      md5: e5ccf33aa0a87d461b8cdf1bd762ff58
      size: 18298463
    - path: data/mnist/mnist_train_processed.csv
      md5: 1d87bef794e227c6e866f509334f27b7
      size: 109630071
  train:
    cmd: python ./src/train.py ./data/mnist/mnist_train_processed.csv ./src/model.py
    deps:
    - path: ./data/mnist/mnist_train_processed.csv
      md5: 1d87bef794e227c6e866f509334f27b7
      size: 109630071
    - path: ./src/model.py
      md5: c2005b4f607b6b7670c4edae69f93241
      size: 2155
    - path: ./src/train.py
      md5: 9b3ebf2e02f21707f72f070aa30b0044
      size: 428
    outs:
    - path: ./models/model.joblib
      md5: f2a4c3c54dbddf86582f31f7168cd7b4
      size: 5398587
  evaluate:
    cmd: python ./src/evaluate.py ./data/mnist/mnist_test_processed.csv ./src/model.py
      ./models/model.joblib
    deps:
    - path: ./data/mnist/mnist_test_processed.csv
      md5: e5ccf33aa0a87d461b8cdf1bd762ff58
      size: 18298463
    - path: ./models/model.joblib
      md5: f2a4c3c54dbddf86582f31f7168cd7b4
      size: 5398587
    - path: ./src/evaluate.py
      md5: 238b4b0fe2be0cb73814ac124d12b4ad
      size: 545
    - path: ./src/metrics.py
      md5: 87ae7d5cfc436cc8f1934c68c85c28a4
      size: 1484
    - path: ./src/model.py
      md5: c2005b4f607b6b7670c4edae69f93241
      size: 2155
    outs:
    - path: ./results/metrics.json
      md5: 88347203d1556323739b297fc601eccf
      size: 109
    - path: ./results/precision_recall_curve.png
      md5: 3f7f8adb9bad50897aa795fc254d49a8
      size: 17443
    - path: ./results/roc_curve.png
      md5: 09521a74d9605f43d63cfb5d397799ca
      size: 18383
